var Re=Object.defineProperty;var ue=t=>{throw TypeError(t)};var Ie=(t,e,i)=>e in t?Re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var K=(t,e,i)=>Ie(t,typeof e!="symbol"?e+"":e,i),X=(t,e,i)=>e.has(t)||ue("Cannot "+i);var l=(t,e,i)=>(X(t,e,"read from private field"),i?i.call(t):e.get(t)),O=(t,e,i)=>e.has(t)?ue("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),H=(t,e,i,n)=>(X(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),x=(t,e,i)=>(X(t,e,"access private method"),i);import{r as j,j as r}from"./index-foqNuVZ0.js";const Ne="6.15.0";function ee(t,e,i){for(let n in e){let s=e[n];Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function M(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(i=>M(i,e)).join(", ")+" ]";if(t instanceof Uint8Array){const i="0123456789abcdef";let n="0x";for(let s=0;s<t.length;s++)n+=i[t[s]>>4],n+=i[t[s]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return M(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const i=Object.keys(t);return i.sort(),"{ "+i.map(n=>`${M(n,e)}: ${M(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ae(t,e,i){let n=t;{const d=[];if(i){if("message"in i||"code"in i||"name"in i)throw new Error(`value will overwrite populated values: ${M(i)}`);for(const p in i){if(p==="shortMessage")continue;const h=i[p];d.push(p+"="+M(h))}}d.push(`code=${e}`),d.push(`version=${Ne}`),d.length&&(t+=" ("+d.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return ee(s,{code:e}),i&&Object.assign(s,i),s.shortMessage==null&&ee(s,{shortMessage:n}),s}function w(t,e,i,n){if(!t)throw Ae(e,i,n)}function b(t,e,i,n){w(t,e,"INVALID_ARGUMENT",{argument:i,value:n})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"√©".normalize("NFD")!=="eÃÅ")throw new Error("broken");t.push(e)}catch{}return t},[]);function Ee(t,e,i){if(t!==e){let n=i,s="new";n+=".",s+=" "+i,w(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Ue(t,e,i){if(t instanceof Uint8Array)return t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let d=0;d<n.length;d++)n[d]=parseInt(t.substring(s,s+2),16),s+=2;return n}b(!1,"invalid BytesLike value",e,t)}function We(t,e){return Ue(t,e)}const me=BigInt(0),F=BigInt(1),P=9007199254740991;function te(t,e){const i=ye(t,"value"),n=BigInt($(e,"width"));if(w(i>>n===me,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),i>>n-F){const s=(F<<n)-F;return-((~i&s)+F)}return i}function ge(t,e){const i=ye(t,"value"),n=BigInt($(e,"bits"));return i&(F<<n)-F}function le(t,e){switch(typeof t){case"bigint":return t;case"number":return b(Number.isInteger(t),"underflow",e||"value",t),b(t>=-P&&t<=P,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(i){b(!1,`invalid BigNumberish string: ${i.message}`,e||"value",t)}}b(!1,"invalid BigNumberish value",e||"value",t)}function ye(t,e){const i=le(t,e);return w(i>=me,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),i}const he="0123456789abcdef";function Me(t){if(t instanceof Uint8Array){let e="0x0";for(const i of t)e+=he[i>>4],e+=he[i&15];return BigInt(e)}return le(t)}function $(t,e){switch(typeof t){case"bigint":return b(t>=-P&&t<=P,"overflow",e||"value",t),Number(t);case"number":return b(Number.isInteger(t),"underflow",e||"value",t),b(t>=-P&&t<=P,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return $(BigInt(t),e)}catch(i){b(!1,`invalid numeric string: ${i.message}`,e||"value",t)}}b(!1,"invalid numeric value",e||"value",t)}const Fe=BigInt(-1),v=BigInt(0),T=BigInt(1),Pe=BigInt(5),W={};let L="0000";for(;L.length<80;)L+=L;function E(t){let e=L;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function D(t,e,i){const n=BigInt(e.width);if(e.signed){const s=T<<n-T;w(i==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:i,fault:"overflow",value:t}),t>v?t=te(ge(t,n),n):t=-te(ge(-t,n),n)}else{const s=T<<n;w(i==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:i,fault:"overflow",value:t}),t=(t%s+s)%s&s-T}return t}function Q(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const d=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);b(d,"invalid fixed format","format",t),e=d[1]!=="u",i=parseInt(d[2]),n=parseInt(d[3])}}else if(t){const d=t,p=(h,y,C)=>d[h]==null?C:(b(typeof d[h]===y,"invalid fixed format ("+h+" not "+y+")","format."+h,d[h]),d[h]);e=p("signed","boolean",e),i=p("width","number",i),n=p("decimals","number",n)}b(i%8===0,"invalid FixedNumber width (not byte aligned)","format.width",i),b(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(i)+"x"+String(n);return{signed:e,width:i,decimals:n,name:s}}function Te(t,e){let i="";t<v&&(i="-",t*=Fe);let n=t.toString();if(e===0)return i+n;for(;n.length<=e;)n=L+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return i+n}var k,f,m,c,U,B,re,oe,ne,se;const I=class I{constructor(e,i,n){O(this,c);K(this,"format");O(this,k);O(this,f);O(this,m);K(this,"_value");Ee(e,W,"FixedNumber"),H(this,f,i),H(this,k,n);const s=Te(i,n.decimals);ee(this,{format:n.name,_value:s}),H(this,m,E(n.decimals))}get signed(){return l(this,k).signed}get width(){return l(this,k).width}get decimals(){return l(this,k).decimals}get value(){return l(this,f)}addUnsafe(e){return x(this,c,re).call(this,e)}add(e){return x(this,c,re).call(this,e,"add")}subUnsafe(e){return x(this,c,oe).call(this,e)}sub(e){return x(this,c,oe).call(this,e,"sub")}mulUnsafe(e){return x(this,c,ne).call(this,e)}mul(e){return x(this,c,ne).call(this,e,"mul")}mulSignal(e){x(this,c,U).call(this,e);const i=l(this,f)*l(e,f);return w(i%l(this,m)===v,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),x(this,c,B).call(this,i/l(this,m),"mulSignal")}divUnsafe(e){return x(this,c,se).call(this,e)}div(e){return x(this,c,se).call(this,e,"div")}divSignal(e){w(l(e,f)!==v,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),x(this,c,U).call(this,e);const i=l(this,f)*l(this,m);return w(i%l(e,f)===v,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),x(this,c,B).call(this,i/l(e,f),"divSignal")}cmp(e){let i=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=E(s):s<0&&(i*=E(-s)),i<n?-1:i>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=l(this,f);return l(this,f)<v&&(e-=l(this,m)-T),e=l(this,f)/l(this,m)*l(this,m),x(this,c,B).call(this,e,"floor")}ceiling(){let e=l(this,f);return l(this,f)>v&&(e+=l(this,m)-T),e=l(this,f)/l(this,m)*l(this,m),x(this,c,B).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const i=this.decimals-e,n=Pe*E(i-1);let s=this.value+n;const d=E(i);return s=s/d*d,D(s,l(this,k),"round"),new I(W,s,l(this,k))}isZero(){return l(this,f)===v}isNegative(){return l(this,f)<v}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return I.fromString(this.toString(),e)}static fromValue(e,i,n){const s=i==null?0:$(i),d=Q(n);let p=le(e,"value");const h=s-d.decimals;if(h>0){const y=E(h);w(p%y===v,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),p/=y}else h<0&&(p*=E(-h));return D(p,d,"fromValue"),new I(W,p,d)}static fromString(e,i){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);b(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=Q(i);let d=n[2]||"0",p=n[3]||"";for(;p.length<s.decimals;)p+=L;w(p.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),p=p.substring(0,s.decimals);const h=BigInt(n[1]+d+p);return D(h,s,"fromString"),new I(W,h,s)}static fromBytes(e,i){let n=Me(We(e,"value"));const s=Q(i);return s.signed&&(n=te(n,s.width)),D(n,s,"fromBytes"),new I(W,n,s)}};k=new WeakMap,f=new WeakMap,m=new WeakMap,c=new WeakSet,U=function(e){b(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},B=function(e,i){return e=D(e,l(this,k),i),new I(W,e,l(this,k))},re=function(e,i){return x(this,c,U).call(this,e),x(this,c,B).call(this,l(this,f)+l(e,f),i)},oe=function(e,i){return x(this,c,U).call(this,e),x(this,c,B).call(this,l(this,f)-l(e,f),i)},ne=function(e,i){return x(this,c,U).call(this,e),x(this,c,B).call(this,l(this,f)*l(e,f)/l(this,m),i)},se=function(e,i){return w(l(e,f)!==v,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),x(this,c,U).call(this,e),x(this,c,B).call(this,l(this,f)*l(this,m)/l(e,f),i)};let ie=I;function Le(t,e){b(typeof t=="string","value must be a string","value",t);let i=18;return i=$(e,"unit"),ie.fromString(t,{decimals:i,width:512}).value}function be(t){return Le(t,18)}const $e=()=>{var fe;const[t,e]=j.useState([]),[i,n]=j.useState(null),[s,d]=j.useState([]),[p,h]=j.useState({}),[y,C]=j.useState(!1),[_,Se]=j.useState("all"),[J,je]=j.useState("performance"),[Y,we]=j.useState(!1),[z,ve]=j.useState(""),[u,R]=j.useState({name:"",description:"",modelFile:null,categories:[],isPublic:!0,stakingRequirement:"1000"}),[S,q]=j.useState({prediction:"",confidence:80,reasoning:""}),ae=["DeFi","Price Prediction","Sentiment Analysis","Risk Assessment","Market Making","Governance"];j.useEffect(()=>{ke(),G()},[]);const ke=async()=>{if(typeof window.ethereum<"u")try{const o=await window.ethereum.request({method:"eth_requestAccounts"});ve(o[0]),de(o[0])}catch(o){console.error("Error connecting wallet:",o)}},G=async()=>{try{C(!0);const a=await(await fetch("/api/ai-models")).json();e(a)}catch(o){console.error("Error fetching models:",o)}finally{C(!1)}},de=async o=>{try{const g=await(await fetch(`/api/ai-models/stakes/${o}`)).json();h(g)}catch(a){console.error("Error fetching user stakes:",a)}},Z=async o=>{try{const g=await(await fetch(`/api/ai-models/${o}/predictions`)).json();d(g)}catch(a){console.error("Error fetching predictions:",a)}},Ce=async()=>{if(!u.name||!u.modelFile){alert("Please fill in all required fields");return}try{C(!0);const o=new FormData;o.append("file",u.modelFile);const a=await fetch("/api/ipfs/upload",{method:"POST",body:o}),{hash:g}=await a.json();(await fetch("/api/ai-models/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u.name,description:u.description,modelHash:g,categories:u.categories,isPublic:u.isPublic,stakingRequirement:be(u.stakingRequirement).toString(),userAddress:z})})).ok&&(alert("Model registered successfully!"),R({name:"",description:"",modelFile:null,categories:[],isPublic:!0,stakingRequirement:"1000"}),G())}catch(o){console.error("Error creating model:",o),alert("Error creating model")}finally{C(!1)}},ce=async(o,a)=>{try{C(!0),(await fetch("/api/ai-models/stake",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelId:o,amount:be(a).toString(),userAddress:z})})).ok&&(alert("Staked successfully!"),G(),de(z))}catch(g){console.error("Error staking:",g),alert("Error staking on model")}finally{C(!1)}},ze=async o=>{if(!S.prediction){alert("Please enter your prediction");return}try{C(!0),(await fetch("/api/ai-models/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelId:o,prediction:S.prediction,confidence:S.confidence,reasoning:S.reasoning,userAddress:z})})).ok&&(alert("Prediction submitted successfully!"),q({prediction:"",confidence:80,reasoning:""}),Z(o))}catch(a){console.error("Error submitting prediction:",a),alert("Error submitting prediction")}finally{C(!1)}},Be=j.useMemo(()=>{let o=t;return _!=="all"&&(o=o.filter(a=>a.categories.includes(_))),Y&&(o=o.filter(a=>a.creator.toLowerCase()===z.toLowerCase())),o.sort((a,g)=>{switch(J){case"performance":return g.successRate-a.successRate;case"usage":return g.usageCount-a.usageCount;case"stake":return g.totalStaked-a.totalStaked;case"recent":return g.lastUpdated-a.lastUpdated;default:return 0}}),o},[t,_,J,Y,z]),N=o=>(o/1e18).toFixed(2),pe=o=>o>=80?"#10b981":o>=60?"#f59e0b":"#ef4444",V=o=>o.isActive?o.successRate>=80?{text:"Excellent",color:"#10b981"}:o.successRate>=60?{text:"Good",color:"#f59e0b"}:{text:"Poor",color:"#ef4444"}:{text:"Inactive",color:"#6b7280"};return r.jsxs("div",{style:{fontFamily:"Inter, sans-serif",padding:"20px",maxWidth:"1400px",margin:"0 auto",backgroundColor:"#0f0f0f",minHeight:"100vh"},children:[r.jsxs("div",{style:{marginBottom:"30px",borderBottom:"2px solid #374151",paddingBottom:"20px"},children:[r.jsx("h1",{style:{fontSize:"36px",fontWeight:"bold",margin:"0 0 10px 0",color:"#f9fafb"},children:"AI Model Marketplace"}),r.jsx("p",{style:{fontSize:"16px",color:"#9ca3af",margin:0},children:"Discover, stake, and profit from community-driven AI models"}),z&&r.jsxs("p",{style:{fontSize:"14px",color:"#6b7280",marginTop:"10px"},children:["Connected: ",z.slice(0,6),"...",z.slice(-4)]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",flexWrap:"wrap",gap:"15px"},children:[r.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[r.jsxs("select",{value:_,onChange:o=>Se(o.target.value),style:{padding:"8px 12px",border:"1px solid #374151",borderRadius:"8px",fontSize:"14px",backgroundColor:"#1f2937",color:"#e5e7eb"},children:[r.jsx("option",{value:"all",children:"All Categories"}),ae.map(o=>r.jsx("option",{value:o,children:o},o))]}),r.jsxs("select",{value:J,onChange:o=>je(o.target.value),style:{padding:"8px 12px",border:"1px solid #374151",borderRadius:"8px",fontSize:"14px",backgroundColor:"#1f2937",color:"#e5e7eb"},children:[r.jsx("option",{value:"performance",children:"Sort by Performance"}),r.jsx("option",{value:"usage",children:"Sort by Usage"}),r.jsx("option",{value:"stake",children:"Sort by Total Stake"}),r.jsx("option",{value:"recent",children:"Sort by Recent"})]}),r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#e5e7eb"},children:[r.jsx("input",{type:"checkbox",checked:Y,onChange:o=>we(o.target.checked)}),"My Models Only"]})]}),r.jsx("button",{onClick:()=>n({id:-1}),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"#ffffff",border:"1px solid #2563eb",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:"+ Create New Model"})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:i?"1fr 400px":"1fr",gap:"30px"},children:[r.jsxs("div",{children:[y&&r.jsx("p",{style:{color:"#9ca3af"},children:"Loading..."}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:Be.map(o=>{const a=V(o),g=p[o.id];return r.jsxs("div",{style:{border:(i==null?void 0:i.id)===o.id?"2px solid #3b82f6":"1px solid #374151",borderRadius:"12px",padding:"20px",cursor:"pointer",backgroundColor:(i==null?void 0:i.id)===o.id?"#1e3a8a20":"#1f2937"},onClick:()=>{n(o),Z(o.id)},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"},children:[r.jsxs("div",{children:[r.jsx("h3",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:"bold",color:"#f9fafb"},children:o.name}),r.jsxs("p",{style:{margin:"0 0 8px 0",fontSize:"12px",color:"#9ca3af"},children:["v",o.version," ‚Ä¢ by ",o.creator.slice(0,6),"...",o.creator.slice(-4)]})]}),r.jsx("span",{style:{padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"bold",backgroundColor:a.color+"20",color:a.color},children:a.text})]}),r.jsx("div",{style:{marginBottom:"15px"},children:o.categories.map(A=>r.jsx("span",{style:{display:"inline-block",padding:"3px 8px",marginRight:"6px",marginBottom:"4px",backgroundColor:"#374151",color:"#d1d5db",borderRadius:"12px",fontSize:"11px"},children:A},A))}),r.jsx("p",{style:{fontSize:"14px",color:"#d1d5db",lineHeight:1.4,marginBottom:"15px",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:o.description}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px",marginBottom:"15px",padding:"12px",backgroundColor:"#111827",borderRadius:"8px"},children:[r.jsxs("div",{style:{textAlign:"center"},children:[r.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:pe(o.successRate)},children:[o.successRate.toFixed(1),"%"]}),r.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:"Success Rate"})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#e5e7eb"},children:o.usageCount}),r.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:"Uses"})]}),r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#8b5cf6"},children:N(o.totalStaked)}),r.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:"Staked (S)"})]})]}),g&&g.active&&r.jsx("div",{style:{padding:"8px 12px",backgroundColor:"#1e3a8a30",borderRadius:"8px",marginBottom:"10px"},children:r.jsxs("div",{style:{fontSize:"12px",color:"#60a5fa"},children:["Your Stake: ",N(g.amount)," S",g.rewards>0&&r.jsxs("span",{style:{marginLeft:"10px"},children:["Rewards: ",N(g.rewards)," S"]})]})}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsx("button",{onClick:A=>{A.stopPropagation();const xe=prompt("Enter amount to stake (S tokens):");xe&&ce(o.id,xe)},style:{flex:1,padding:"8px 12px",border:"1px solid #3b82f6",borderRadius:"6px",backgroundColor:"#1e3a8a30",color:"#60a5fa",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"üí∞ Stake"}),o.isPublic&&r.jsx("button",{onClick:A=>{A.stopPropagation(),n(o),Z(o.id)},style:{flex:1,padding:"8px 12px",border:"1px solid #10b981",borderRadius:"6px",backgroundColor:"#065f4630",color:"#34d399",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"üéØ Predict"})]})]},o.id)})})]}),i&&r.jsx("div",{style:{border:"1px solid #374151",borderRadius:"12px",padding:"20px",backgroundColor:"#1f2937",height:"fit-content",position:"sticky",top:"20px"},children:i.id===-1?r.jsxs("div",{children:[r.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px",color:"#f9fafb"},children:"Create New AI Model"}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",color:"#e5e7eb"},children:"Model Name *"}),r.jsx("input",{type:"text",value:u.name,onChange:o=>R({...u,name:o.target.value}),placeholder:"Enter model name",style:{width:"100%",padding:"8px 12px",border:"1px solid #374151",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",backgroundColor:"#111827",color:"#e5e7eb"}})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",color:"#e5e7eb"},children:"Description"}),r.jsx("textarea",{value:u.description,onChange:o=>R({...u,description:o.target.value}),placeholder:"Describe your model",rows:3,style:{width:"100%",padding:"8px 12px",border:"1px solid #374151",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",resize:"vertical",backgroundColor:"#111827",color:"#e5e7eb"}})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",color:"#e5e7eb"},children:"Model File *"}),r.jsx("input",{type:"file",onChange:o=>{var a;return R({...u,modelFile:((a=o.target.files)==null?void 0:a[0])||null})},accept:".pkl,.joblib,.h5,.onnx,.zip",style:{width:"100%",padding:"8px 12px",border:"1px solid #374151",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",backgroundColor:"#111827",color:"#e5e7eb"}})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",color:"#e5e7eb"},children:"Categories"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:ae.map(o=>r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",color:"#d1d5db"},children:[r.jsx("input",{type:"checkbox",checked:u.categories.includes(o),onChange:a=>{a.target.checked?R({...u,categories:[...u.categories,o]}):R({...u,categories:u.categories.filter(g=>g!==o)})}}),o]},o))})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",color:"#e5e7eb"},children:"Initial Stake (S tokens)"}),r.jsx("input",{type:"number",value:u.stakingRequirement,onChange:o=>R({...u,stakingRequirement:o.target.value}),min:"1000",style:{width:"100%",padding:"8px 12px",border:"1px solid #374151",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",backgroundColor:"#111827",color:"#e5e7eb"}})]}),r.jsx("div",{style:{marginBottom:"20px"},children:r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#e5e7eb"},children:[r.jsx("input",{type:"checkbox",checked:u.isPublic,onChange:o=>R({...u,isPublic:o.target.checked})}),"Make model public"]})}),r.jsxs("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{onClick:()=>n(null),style:{flex:1,padding:"10px 20px",border:"1px solid #374151",borderRadius:"8px",backgroundColor:"#111827",color:"#d1d5db",cursor:"pointer",fontSize:"14px"},children:"Cancel"}),r.jsx("button",{onClick:Ce,disabled:y,style:{flex:1,padding:"10px 20px",border:"none",borderRadius:"8px",backgroundColor:"#3b82f6",color:"white",cursor:y?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold"},children:y?"Creating...":"Create Model"})]})]}):r.jsxs("div",{children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",margin:"0 0 5px 0",color:"#f9fafb"},children:i.name}),r.jsxs("p",{style:{fontSize:"14px",color:"#9ca3af",margin:0},children:["v",i.version," ‚Ä¢ Created by ",i.creator.slice(0,6),"...",i.creator.slice(-4)]})]}),r.jsx("div",{style:{padding:"8px 16px",backgroundColor:V(i).color+"20",color:V(i).color,borderRadius:"20px",fontSize:"12px",fontWeight:"bold"},children:V(i).text})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px",padding:"15px",backgroundColor:"#111827",borderRadius:"8px"},children:[r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"Success Rate"}),r.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:pe(i.successRate)},children:[i.successRate.toFixed(1),"%"]})]}),r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"Total Predictions"}),r.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#e5e7eb"},children:i.performanceMetrics.totalPredictions})]}),r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"Total Staked"}),r.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#8b5cf6"},children:[N(i.totalStaked)," S"]})]}),r.jsxs("div",{children:[r.jsx("div",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"4px"},children:"Usage Count"}),r.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#e5e7eb"},children:i.usageCount})]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px",color:"#f9fafb"},children:"Description"}),r.jsx("p",{style:{fontSize:"14px",color:"#d1d5db",lineHeight:1.5,margin:0},children:i.description})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px",color:"#f9fafb"},children:"Categories"}),r.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:i.categories.map(o=>r.jsx("span",{style:{padding:"4px 12px",backgroundColor:"#374151",color:"#d1d5db",borderRadius:"16px",fontSize:"12px",fontWeight:"bold"},children:o},o))})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px",color:"#f9fafb"},children:"Recent Performance"}),r.jsx("div",{style:{height:"100px",backgroundColor:"#111827",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",border:"1px solid #374151"},children:"Performance Chart Placeholder"})]}),i.isPublic&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#f9fafb"},children:"Make Prediction"}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",color:"#e5e7eb"},children:"Your Prediction"}),r.jsx("textarea",{value:S.prediction,onChange:o=>q({...S,prediction:o.target.value}),placeholder:"Enter your prediction or analysis...",rows:3,style:{width:"100%",padding:"8px 12px",border:"1px solid #374151",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",resize:"vertical",backgroundColor:"#111827",color:"#e5e7eb"}})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsxs("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",color:"#e5e7eb"},children:["Confidence Level: ",S.confidence,"%"]}),r.jsx("input",{type:"range",min:"1",max:"100",value:S.confidence,onChange:o=>q({...S,confidence:parseInt(o.target.value)}),style:{width:"100%",height:"6px",borderRadius:"3px",background:"#374151"}})]}),r.jsxs("div",{style:{marginBottom:"15px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"bold",marginBottom:"5px",color:"#e5e7eb"},children:"Reasoning (Optional)"}),r.jsx("textarea",{value:S.reasoning,onChange:o=>q({...S,reasoning:o.target.value}),placeholder:"Explain your reasoning...",rows:2,style:{width:"100%",padding:"8px 12px",border:"1px solid #374151",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",resize:"vertical",backgroundColor:"#111827",color:"#e5e7eb"}})]}),r.jsx("button",{onClick:()=>ze(i.id),disabled:y||!S.prediction,style:{width:"100%",padding:"12px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:y||!S.prediction?"not-allowed":"pointer"},children:y?"Submitting...":"üéØ Submit Prediction"})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#f9fafb"},children:"Stake on Model"}),p[i.id]&&p[i.id].active?r.jsxs("div",{style:{padding:"15px",backgroundColor:"#1e3a8a30",borderRadius:"8px",marginBottom:"15px"},children:[r.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#60a5fa",marginBottom:"8px"},children:"Your Current Stake"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{style:{fontSize:"12px",color:"#93c5fd"},children:"Amount:"}),r.jsxs("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#60a5fa"},children:[N(p[i.id].amount)," S"]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[r.jsx("span",{style:{fontSize:"12px",color:"#93c5fd"},children:"Staked Since:"}),r.jsx("span",{style:{fontSize:"12px",color:"#93c5fd"},children:new Date(p[i.id].timestamp*1e3).toLocaleDateString()})]}),p[i.id].rewards>0&&r.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{fontSize:"12px",color:"#93c5fd"},children:"Rewards Earned:"}),r.jsxs("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#34d399"},children:["+",N(p[i.id].rewards)," S"]})]})]}):r.jsx("div",{style:{padding:"15px",backgroundColor:"#374151",borderRadius:"8px",textAlign:"center",marginBottom:"15px"},children:r.jsx("div",{style:{fontSize:"14px",color:"#9ca3af"},children:"You haven't staked on this model yet"})}),r.jsxs("button",{onClick:()=>{const o=prompt("Enter amount to stake (S tokens):");o&&ce(i.id,o)},style:{width:"100%",padding:"12px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer"},children:["üí∞ ",(fe=p[i.id])!=null&&fe.active?"Add More Stake":"Start Staking"]})]}),r.jsxs("div",{children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px",color:"#f9fafb"},children:"Recent Predictions"}),s.length>0?r.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:s.slice(0,5).map((o,a)=>r.jsxs("div",{style:{border:"1px solid #374151",borderRadius:"8px",padding:"12px",marginBottom:"10px",backgroundColor:"#111827"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[r.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[o.predictor.slice(0,6),"...",o.predictor.slice(-4)]}),r.jsx("div",{style:{fontSize:"12px",color:"#9ca3af"},children:new Date(o.timestamp*1e3).toLocaleDateString()})]}),r.jsxs("div",{style:{fontSize:"14px",marginBottom:"8px",color:"#d1d5db"},children:[o.predictionHash.slice(0,50),"..."]}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af"},children:["Confidence: ",o.confidenceScore,"%"]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.validated?r.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"bold",backgroundColor:o.accurate?"#065f46":"#7f1d1d",color:o.accurate?"#34d399":"#f87171"},children:o.accurate?"‚úì Accurate":"‚úó Inaccurate"}):r.jsx("span",{style:{padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"bold",backgroundColor:"#92400e",color:"#fbbf24"},children:"‚è≥ Pending"}),o.rewardAmount>0&&r.jsxs("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#34d399"},children:["+",N(o.rewardAmount)," S"]})]})]})]},a))}):r.jsx("div",{style:{padding:"20px",backgroundColor:"#374151",borderRadius:"8px",textAlign:"center",color:"#9ca3af"},children:"No predictions yet. Be the first to make a prediction!"})]})]})})]})]})};export{$e as default};
